/*!
 * helper.js v0.0.0
 * (c) 2020-2020 zjx <ruyi_zozo@163.com>
 * Released under the MIT License.
 */
!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e="undefined"!=typeof globalThis?globalThis:e||self).helper={})}(this,(function(e){"use strict";var i=require("path-to-regexp").pathToRegexp;function n(e,n){var t;if(!n)return t;for(var o=0,r=n.length;o<r;o++){var l=n[o];if(i(l.path).exec(e.path)){t=l;break}}return t}var t="[ visible-yx ] ",o={dynamicSetting:void 0,install:function(e,i){if(!(null==i?void 0:i.store))return console.warn(t+"注册指令必须传入`vuex`实例，注册失败");var n=i.store[i.dynamicStoreKey||"dynamicSetting"];if(!n)return console.warn(t+"未发现存储动态配置的`module`，注册失败");this.dynamicSetting=n,e.directive("visible-yx",{inserted:this.inserted.bind(this)})},inserted:function(e,i,t){var o,l=i.arg;if(l){var a=n(t.context.$route,null===(o=this.dynamicSetting)||void 0===o?void 0:o.pages);if(a){var s=Object.keys(i.modifiers)[0]||"default",d={table:r};if("default"===s)!function(e,i,n,t,o){var r=e.visible;(void 0===r?[]:r).includes(i)||n.parentNode&&n.parentNode.removeChild(n)||(n.style.display="none")}(a,l,e);else if(Object.keys(d).includes(s)){var c=a[s];if(!c)return;var f=c[l];if(!f||!Object.keys(f).length)return;(0,a[s])(f,l,e,i,t)}else console.warn("[visible-yx] 未发现"+s+"组件类型的处理函数，请检查"+i.rawName+"指令语法是否正确")}}}};function r(e,i,n,t,o){var r=o.componentInstance,l=e.columns,a=void 0===l?[]:l,s=e.scroll,d=void 0===s?{}:s,c=e.visible;if(void 0===c||c||n.parentNode&&n.parentNode.removeChild(n)||(n.style.display="none"),a.length)for(var f=(null==r?void 0:r.columns)||[],u=f.length-1;u>=0;u--){var v=f[u];a.includes(v.dataIndex||v.key)||f.splice(u,1)}Object.assign(null==r?void 0:r.scroll,d)}e.VVisible=o,e.getPageSetting=n,Object.defineProperty(e,"__esModule",{value:!0})}));
