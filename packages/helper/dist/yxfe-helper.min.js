/*!
 * yxfe-helper.js v0.0.8
 * (c) 2020-2020 zzzjx <ruyi_zozo@163.com>
 * Released under the MIT License.
 */
!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e="undefined"!=typeof globalThis?globalThis:e||self)["yxfe-helper"]={})}(this,(function(e){"use strict";var i=require("path-to-regexp").pathToRegexp;function t(e,t){var n;if(!t)return n;for(var r=0,o=t.length;r<o;r++){var l=t[r];if(i(l.path).exec(e.path)){n=l;break}}return n}var n="[ visible-yx ] ",r={dynamicSetting:void 0,install:function(e,i){if(!(null==i?void 0:i.store))return console.error(n+"指令注册失败：注册指令必须传入`vuex`实例");var t=i.store.state[i.dynamicStoreKey||"dynamicSetting"];if(!t)return console.error(n+"指令注册失败：未发现存储动态配置的`module`.");this.dynamicSetting=t,e.directive("visible-yx",{inserted:this.inserted.bind(this)})},inserted:function(e,i,r){var l,s=i.arg;if(s){var a=t(r.context.$route,null===(l=this.dynamicSetting)||void 0===l?void 0:l.pages);if(a){var d=Object.keys(i.modifiers)[0]||"default",c={table:o},f=Object.keys(c);if("default"===d)!function(e,i,t,n,r){var o=e.visible;(void 0===o?[]:o).includes(i)||t.parentNode&&t.parentNode.removeChild(t)||(t.style.display="none")}(a,s,e);else if(f.includes(d)){var u=a[d];if(!u)return;var v=u[s];if(!v||!Object.keys(v).length)return;(0,c[d])(v,s,e,i,r)}else console.warn(n+" 未发现`"+d+"`组件类型的处理函数，请检查`"+i.rawName+"`指令语法是否正确")}}}};function o(e,i,t,n,r){var o=r.componentInstance,l=e.columns,s=void 0===l?[]:l,a=e.scroll,d=void 0===a?{}:a,c=e.visible;if(void 0===c||c||t.parentNode&&t.parentNode.removeChild(t)||(t.style.display="none"),s.length)for(var f=(null==o?void 0:o.columns)||[],u=f.length-1;u>=0;u--){var v=f[u];s.includes(v.dataIndex||v.key)||f.splice(u,1)}Object.assign(null==o?void 0:o.scroll,d)}e.VVisible=r,e.getPageSetting=t,Object.defineProperty(e,"__esModule",{value:!0})}));
